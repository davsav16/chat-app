{"code":"(this.webpackJsonpchat_app=this.webpackJsonpchat_app||[]).push([[0],{350:function(e,t,a){},351:function(e,t,a){\"use strict\";a.r(t);var s=a(0),c=a(23),n=a.n(c),r=a(42),l=a(29),i=a(17),o=a.n(i),u=a(24),j=a(9),d=a(147),m=a.n(d),b=a(3),h=function(){var e=Object(s.useState)(\"\"),t=Object(j.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(\"\"),r=Object(j.a)(n,2),l=r[0],i=r[1],d=Object(s.useState)(\"\"),h=Object(j.a)(d,2),p=h[0],g=h[1],x=function(){var e=Object(u.a)(o.a.mark((function e(t){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={\"Project-ID\":\"1bf81ce9-62ca-4532-a837-de087b3b1926\",\"User-Name\":a,\"User-Secret\":l},e.prev=2,e.next=5,m.a.get(\"https://api.chatengine.io/chats\",{headers:s});case 5:localStorage.setItem(\"username\",a),localStorage.setItem(\"password\",l),window.location.reload(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),g(\"Looks like your credentials did not work!\");case 13:case\"end\":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(\"div\",{className:\"wrapper\",children:Object(b.jsxs)(\"div\",{className:\"form\",children:[Object(b.jsx)(\"h1\",{className:\"title\",children:\"Chat Application\"}),Object(b.jsxs)(\"form\",{onSubmit:x,children:[Object(b.jsx)(\"input\",{type:\"text\",value:a,onChange:function(e){return c(e.target.value)},className:\"input\",placeholder:\"Username\",required:!0}),Object(b.jsx)(\"input\",{type:\"password\",value:l,onChange:function(e){return i(e.target.value)},className:\"input\",placeholder:\"Password\",required:!0}),Object(b.jsx)(\"div\",{align:\"center\",children:Object(b.jsx)(\"button\",{type:\"submit\",className:\"button\",children:Object(b.jsx)(\"span\",{children:\"Start Chatting\"})})}),Object(b.jsx)(\"h2\",{className:\"error\",children:p})]})]})})},p=function(e){var t,a=e.message;return(null===a||void 0===a||null===(t=a.attachments)||void 0===t?void 0:t.length)>0?Object(b.jsx)(\"img\",{src:a.attachments[0].file,alt:\"message-attachment\",className:\"message-image\",style:{float:\"right\"}}):(console.log(a),Object(b.jsx)(\"div\",{className:\"message\",style:{float:\"right\",marginRight:\"18px\",color:\"white\",backgroundColor:\"#3B2A50\"},children:a.text}))},g=function(e){var t,a,s=e.lastMessage,c=e.message,n=!s||s.sender.username!==c.sender.username;return Object(b.jsxs)(\"div\",{className:\"message-row\",children:[n&&Object(b.jsx)(\"div\",{className:\"message-avatar\",style:{backgroundImage:\"url(\".concat(null===c||void 0===c||null===(t=c.sender)||void 0===t?void 0:t.avatar,\")\")}}),(null===c||void 0===c||null===(a=c.attachments)||void 0===a?void 0:a.length)>0?Object(b.jsx)(\"img\",{src:c.attachments[0].file,alt:\"message-attachment\",className:\"message-image\",style:{marginLeft:n?\"4px\":\"48px\"}}):Object(b.jsx)(\"div\",{className:\"message\",style:{float:\"left\",backgroundColor:\"#CABCDC\",marginLeft:n?\"4px\":\"48px\"},children:c.text})]})},x=a(353),O=a(354),v=function(e){var t=Object(s.useState)(\"\"),a=Object(j.a)(t,2),c=a[0],n=a[1],r=e.chatId,i=e.creds,o=function(e){e.preventDefault();var t=c.trim();t.length>0&&Object(l.t)(i,r,{text:t}),n(\"\")};return Object(b.jsxs)(\"form\",{className:\"message-form\",onSubmit:o,children:[Object(b.jsx)(\"input\",{className:\"message-input\",placeholder:\"Send a message ...\",value:c,onChange:function(t){n(t.target.value),Object(l.p)(e,r)},onSubmit:o}),Object(b.jsx)(\"label\",{htmlFor:\"upload-button\",children:Object(b.jsx)(\"span\",{className:\"image-button\",children:Object(b.jsx)(x.a,{className:\"picture-icon\"})})}),Object(b.jsx)(\"input\",{type:\"file\",multiple:!1,id:\"upload-button\",style:{display:\"none\"},onChange:function(e){Object(l.t)(i,r,{files:e.target.files,text:\"\"})}}),Object(b.jsx)(\"button\",{type:\"submit\",className:\"send-button\",children:Object(b.jsx)(O.a,{className:\"send-icon\"})})]})},f=function(e){var t=e.chats,a=e.activeChat,s=e.userName,c=e.messages,n=t&&t[a],l=function(e,t){return n.people.map((function(a,s){return a.last_read===e.id&&Object(b.jsx)(\"div\",{className:\"read-receipt\",style:{float:t?\"right\":\"left\",backgroundImage:a.person.avatar&&\"url(\".concat(a.person.avatar,\")\")}},\"read_\".concat(s))}))};return n?Object(b.jsxs)(\"div\",{className:\"chat-feed\",children:[Object(b.jsxs)(\"div\",{className:\"chat-title-container\",children:[Object(b.jsx)(\"div\",{className:\"chat-title\",children:null===n||void 0===n?void 0:n.title}),Object(b.jsx)(\"div\",{className:\"chat-subtitle\",children:n.people.map((function(e){return\" \".concat(e.person.username)}))})]}),function(){var e=Object.keys(c);return e.map((function(t,a){var n=c[t],r=0===a?null:e[a-1],i=s===n.sender.username;return Object(b.jsxs)(\"div\",{style:{width:\"100%\"},children:[Object(b.jsx)(\"div\",{className:\"message-block\",children:i?Object(b.jsx)(p,{message:n}):Object(b.jsx)(g,{message:n,lastMessage:c[r]})}),Object(b.jsx)(\"div\",{className:\"read-receipts\",style:{marginRight:i?\"18px\":\"0px\",marginLeft:i?\"0px\":\"68px\"},children:l(n,i)})]},\"msg_\".concat(a))}))}(),Object(b.jsx)(\"div\",{style:{height:\"100px\"}}),Object(b.jsx)(\"div\",{className:\"message-form-container\",children:Object(b.jsx)(v,Object(r.a)(Object(r.a)({},e),{},{chatId:a}))})]}):Object(b.jsx)(\"div\",{})},N=(a(350),function(){return localStorage.getItem(\"username\")?Object(b.jsx)(l.d,{height:\"100vh\",projectID:\"1bf81ce9-62ca-4532-a837-de087b3b1926\",userName:localStorage.getItem(\"username\"),userSecret:localStorage.getItem(\"password\"),renderChatFeed:function(e){return Object(b.jsx)(f,Object(r.a)({},e))}}):Object(b.jsx)(h,{})});n.a.render(Object(b.jsx)(N,{}),document.getElementById(\"root\"))}},[[351,1,2]]]);","name":"static/js/main.46bb573d.chunk.js","map":{"version":3,"sources":["static/js/main.46bb573d.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_dom","react_dom_default","n","objectSpread2","index_modern","regenerator","regenerator_default","asyncToGenerator","slicedToArray","axios","axios_default","jsx_runtime","components_LoginForm","_useState","Object","_useState2","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","error","setError","handleSubmit","_ref","a","mark","_callee","e","authObject","wrap","_context","prev","next","preventDefault","get","headers","localStorage","setItem","window","location","reload","t0","stop","_x","apply","arguments","className","children","onSubmit","type","value","onChange","target","placeholder","required","align","components_MyMessage","_message$attachments","message","attachments","length","src","file","alt","style","float","console","log","marginRight","color","backgroundColor","text","components_TheirMessage","_message$sender","lastMessage","isFirstMessageByUser","sender","backgroundImage","concat","avatar","marginLeft","PictureOutlined","SendOutlined","components_MessageForm","props","setValue","chatId","creds","event","trim","htmlFor","multiple","id","display","files","components_ChatFeed","chats","activeChat","userName","messages","chat","renderReadReceipts","isMyMessage","people","map","person","index","last_read","title","keys","key","lastMessageKey","width","renderMessages","height","src_App_0","getItem","projectID","userSecret","renderChatFeed","chatAppProps","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpchat_app\"] = this[\"webpackJsonpchat_app\"] || []).push([[0],{\n\n/***/ 350:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 351:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(23);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(42);\n\n// EXTERNAL MODULE: ./node_modules/react-chat-engine/dist/index.modern.js + 29 modules\nvar index_modern = __webpack_require__(29);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(17);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(147);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/components/LoginForm.jsx\nvar LoginForm_LoginForm=function LoginForm(){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),error=_useState6[0],setError=_useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var authObject;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();authObject={'Project-ID':\"1bf81ce9-62ca-4532-a837-de087b3b1926\",\"User-Name\":username,'User-Secret':password};_context.prev=2;_context.next=5;return axios_default.a.get('https://api.chatengine.io/chats',{headers:authObject});case 5:localStorage.setItem('username',username);localStorage.setItem('password',password);window.location.reload();_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);setError('Looks like your credentials did not work!');case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"wrapper\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"title\",children:\"Chat Application\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},className:\"input\",placeholder:\"Username\",required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},className:\"input\",placeholder:\"Password\",required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{align:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"button\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Start Chatting\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"error\",children:error})]})]})});};/* harmony default export */ var components_LoginForm = (LoginForm_LoginForm);\n// CONCATENATED MODULE: ./src/components/MyMessage.jsx\nvar MyMessage_MyMessage=function MyMessage(_ref){var _message$attachments;var message=_ref.message;if((message===null||message===void 0?void 0:(_message$attachments=message.attachments)===null||_message$attachments===void 0?void 0:_message$attachments.length)>0){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:message.attachments[0].file,alt:\"message-attachment\",className:\"message-image\",style:{float:'right'}});}console.log(message);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message\",style:{float:'right',marginRight:'18px',color:'white',backgroundColor:'#3B2A50'},children:message.text});};/* harmony default export */ var components_MyMessage = (MyMessage_MyMessage);\n// CONCATENATED MODULE: ./src/components/TheirMessage.jsx\nvar TheirMessage_TheirMessage=function TheirMessage(_ref){var _message$sender,_message$attachments;var lastMessage=_ref.lastMessage,message=_ref.message;var isFirstMessageByUser=!lastMessage||lastMessage.sender.username!==message.sender.username;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"message-row\",children:[isFirstMessageByUser&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message-avatar\",style:{backgroundImage:\"url(\".concat(message===null||message===void 0?void 0:(_message$sender=message.sender)===null||_message$sender===void 0?void 0:_message$sender.avatar,\")\")}}),(message===null||message===void 0?void 0:(_message$attachments=message.attachments)===null||_message$attachments===void 0?void 0:_message$attachments.length)>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:message.attachments[0].file,alt:\"message-attachment\",className:\"message-image\",style:{marginLeft:isFirstMessageByUser?'4px':'48px'}}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message\",style:{float:'left',backgroundColor:'#CABCDC',marginLeft:isFirstMessageByUser?'4px':'48px'},children:message.text})]});};/* harmony default export */ var components_TheirMessage = (TheirMessage_TheirMessage);\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/PictureOutlined.js + 1 modules\nvar PictureOutlined = __webpack_require__(353);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/SendOutlined.js + 1 modules\nvar SendOutlined = __webpack_require__(354);\n\n// CONCATENATED MODULE: ./src/components/MessageForm.jsx\nvar MessageForm_MessageForm=function MessageForm(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),value=_useState2[0],setValue=_useState2[1];var chatId=props.chatId,creds=props.creds;var handleSubmit=function handleSubmit(event){event.preventDefault();var text=value.trim();if(text.length>0)Object(index_modern[\"t\" /* sendMessage */])(creds,chatId,{text:text});setValue('');};var handleChange=function handleChange(event){setValue(event.target.value);Object(index_modern[\"p\" /* isTyping */])(props,chatId);};var handleUpload=function handleUpload(event){Object(index_modern[\"t\" /* sendMessage */])(creds,chatId,{files:event.target.files,text:''});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"message-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"message-input\",placeholder:\"Send a message ...\",value:value,onChange:handleChange,onSubmit:handleSubmit}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"upload-button\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"image-button\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PictureOutlined[\"a\" /* default */],{className:\"picture-icon\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",multiple:false,id:\"upload-button\",style:{display:'none'},onChange:handleUpload}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"send-button\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SendOutlined[\"a\" /* default */],{className:\"send-icon\"})})]});};/* harmony default export */ var components_MessageForm = (MessageForm_MessageForm);\n// CONCATENATED MODULE: ./src/components/ChatFeed.jsx\nvar ChatFeed_ChatFeed=function ChatFeed(props){var chats=props.chats,activeChat=props.activeChat,userName=props.userName,messages=props.messages;var chat=chats&&chats[activeChat];var renderReadReceipts=function renderReadReceipts(message,isMyMessage){return chat.people.map(function(person,index){return person.last_read===message.id&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"read-receipt\",style:{float:isMyMessage?'right':'left',backgroundImage:person.person.avatar&&\"url(\".concat(person.person.avatar,\")\")}},\"read_\".concat(index));});};var renderMessages=function renderMessages(){var keys=Object.keys(messages);return keys.map(function(key,index){var message=messages[key];var lastMessageKey=index===0?null:keys[index-1];var isMyMessage=userName===message.sender.username;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{width:'100%'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message-block\",children:isMyMessage?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_MyMessage,{message:message}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_TheirMessage,{message:message,lastMessage:messages[lastMessageKey]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"read-receipts\",style:{marginRight:isMyMessage?'18px':'0px',marginLeft:isMyMessage?'0px':'68px'},children:renderReadReceipts(message,isMyMessage)})]},\"msg_\".concat(index));});};if(!chat)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-feed\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-title-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-title\",children:chat===null||chat===void 0?void 0:chat.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-subtitle\",children:chat.people.map(function(person){return\" \".concat(person.person.username);})})]}),renderMessages(),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:'100px'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message-form-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_MessageForm,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{chatId:activeChat}))})]});};/* harmony default export */ var components_ChatFeed = (ChatFeed_ChatFeed);\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(350);\n\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=function App(){if(!localStorage.getItem('username'))return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_LoginForm,{});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_modern[\"d\" /* ChatEngine */],{height:\"100vh\",projectID:\"1bf81ce9-62ca-4532-a837-de087b3b1926\",userName:localStorage.getItem('username'),userSecret:localStorage.getItem('password'),renderChatFeed:function renderChatFeed(chatAppProps){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ChatFeed,Object(objectSpread2[\"a\" /* default */])({},chatAppProps));}});};/* harmony default export */ var src_App_0 = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{}),document.getElementById('root'));\n\n/***/ })\n\n},[[351,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/davidmcdougal/Practice/chat_app/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/davidmcdougal/Practice/chat_app/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/davidmcdougal/Practice/chat_app/node_modules/postcss-loader/src/index.js??postcss!/Users/davidmcdougal/Practice/chat_app/src/App.css","/Users/davidmcdougal/Practice/chat_app/src/components/LoginForm.jsx","/Users/davidmcdougal/Practice/chat_app/src/components/MyMessage.jsx","/Users/davidmcdougal/Practice/chat_app/src/components/TheirMessage.jsx","/Users/davidmcdougal/Practice/chat_app/src/components/MessageForm.jsx","/Users/davidmcdougal/Practice/chat_app/src/components/ChatFeed.jsx","/Users/davidmcdougal/Practice/chat_app/src/App.js","/Users/davidmcdougal/Practice/chat_app/src/index.js"],"names":["LoginForm","useState","username","setUsername","password","setPassword","error","setError","handleSubmit","e","preventDefault","authObject","axios","get","headers","localStorage","setItem","window","location","reload","target","value","MyMessage","message","attachments","length","file","float","console","log","marginRight","color","backgroundColor","text","TheirMessage","lastMessage","isFirstMessageByUser","sender","backgroundImage","avatar","marginLeft","MessageForm","props","setValue","chatId","creds","event","trim","sendMessage","handleChange","isTyping","handleUpload","files","display","ChatFeed","chats","activeChat","userName","messages","chat","renderReadReceipts","isMyMessage","people","map","person","index","last_read","id","renderMessages","keys","Object","key","lastMessageKey","width","title","height","App","getItem","chatAppProps","ReactDOM","render","document","getElementById"],"mappings":";;;;;AAAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEA,GAAMA,oBAAS,CAAG,QAAZA,UAAY,EAAM,CACpB,cAAgCC,yBAAQ,CAAC,EAAD,CAAxC,kEAAOC,QAAP,eAAiBC,WAAjB,eACA,eAAgCF,yBAAQ,CAAC,EAAD,CAAxC,mEAAOG,QAAP,eAAiBC,WAAjB,eACA,eAA0BJ,yBAAQ,CAAC,EAAD,CAAlC,mEAAOK,KAAP,eAAcC,QAAd,eAEA,GAAMC,aAAY,sHAAG,iBAAOC,CAAP,mIACjBA,CAAC,CAACC,cAAF,GAEMC,UAHW,CAGE,CAAE,aAAc,sCAAhB,CAAwD,YAAaT,QAArE,CAA+E,cAAeE,QAA9F,CAHF,uCAMPQ,gBAAK,CAACC,GAAN,CAAU,iCAAV,CAA6C,CAAEC,OAAO,CAAEH,UAAX,CAA7C,CANO,QAQbI,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCd,QAAjC,EACAa,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCZ,QAAjC,EAEAa,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAXa,iFAabZ,QAAQ,CAAC,2CAAD,CAAR,CAba,qEAAH,kBAAZC,aAAY,4CAAlB,CAkBA,mBACI,kCAAK,SAAS,CAAC,SAAf,uBACI,mCAAK,SAAS,CAAC,MAAf,wBACI,iCAAI,SAAS,CAAC,OAAd,8BADJ,cAEI,oCAAM,QAAQ,CAAEA,YAAhB,wBACI,oCAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEN,QAA1B,CAAoC,QAAQ,CAAE,kBAACO,CAAD,QAAON,YAAW,CAACM,CAAC,CAACW,MAAF,CAASC,KAAV,CAAlB,EAA9C,CAAkF,SAAS,CAAC,OAA5F,CAAoG,WAAW,CAAC,UAAhH,CAA2H,QAAQ,KAAnI,EADJ,cAEI,oCAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,CAAEjB,QAA9B,CAAwC,QAAQ,CAAE,kBAACK,CAAD,QAAOJ,YAAW,CAACI,CAAC,CAACW,MAAF,CAASC,KAAV,CAAlB,EAAlD,CAAsF,SAAS,CAAC,OAAhG,CAAwG,WAAW,CAAC,UAApH,CAA+H,QAAQ,KAAvI,EAFJ,cAGI,kCAAK,KAAK,CAAC,QAAX,uBACI,qCAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,QAAhC,uBACI,8DADJ,EADJ,EAHJ,cAQI,iCAAI,SAAS,CAAC,OAAd,UAAuBf,KAAvB,EARJ,GAFJ,GADJ,EADJ,CAiBH,CAxCD,CA0CeN,4EAAf,E;;AC5CA,GAAMsB,oBAAS,CAAG,QAAZA,UAAY,MAAiB,6BAAdC,QAAc,MAAdA,OAAc,CAC/B,GAAG,CAAAA,OAAO,OAAP,EAAAA,OAAO,SAAP,8BAAAA,OAAO,CAAGC,WAAV,oEAAuBC,MAAvB,EAAgC,CAAnC,CAAsC,CAClC,mBACI,kCAAK,GAAG,CAAEF,OAAO,CAACC,WAAR,CAAoB,CAApB,EAAuBE,IAAjC,CAAuC,GAAG,CAAC,oBAA3C,CAAgE,SAAS,CAAC,eAA1E,CAA0F,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAT,CAAjG,EADJ,CAGH,CACDC,OAAO,CAACC,GAAR,CAAYN,OAAZ,EACA,mBACI,kCAAK,SAAS,CAAC,SAAf,CAAyB,KAAK,CAAE,CAAEI,KAAK,CAAE,OAAT,CAAkBG,WAAW,CAAE,MAA/B,CAAuCC,KAAK,CAAE,OAA9C,CAAuDC,eAAe,CAAE,SAAxE,CAAhC,UACET,OAAO,CAACU,IADV,EADJ,CAKH,CAZD,CAaeX,4EAAf,E;;ACbA,GAAMY,0BAAY,CAAG,QAAfA,aAAe,MAA6B,6CAA1BC,YAA0B,MAA1BA,WAA0B,CAAbZ,OAAa,MAAbA,OAAa,CAC9C,GAAMa,qBAAoB,CAAG,CAACD,WAAD,EAAgBA,WAAW,CAACE,MAAZ,CAAmBnC,QAAnB,GAAgCqB,OAAO,CAACc,MAAR,CAAenC,QAA5F,CACA,mBACI,mCAAK,SAAS,CAAC,aAAf,WACKkC,oBAAoB,eACjB,kCACI,SAAS,CAAC,gBADd,CAEI,KAAK,CAAE,CAACE,eAAe,eAASf,OAAT,SAASA,OAAT,kCAASA,OAAO,CAAEc,MAAlB,0CAAS,gBAAiBE,MAA1B,KAAhB,CAFX,EAFR,CAOK,CAAAhB,OAAO,OAAP,EAAAA,OAAO,SAAP,8BAAAA,OAAO,CAAGC,WAAV,oEAAuBC,MAAvB,EAAgC,CAAhC,cAEO,kCAAK,GAAG,CAAEF,OAAO,CAACC,WAAR,CAAoB,CAApB,EAAuBE,IAAjC,CAAuC,GAAG,CAAC,oBAA3C,CAAgE,SAAS,CAAC,eAA1E,CAA0F,KAAK,CAAE,CAAEc,UAAU,CAAEJ,oBAAoB,CAAG,KAAH,CAAW,MAA7C,CAAjG,EAFP,cAIO,kCAAK,SAAS,CAAC,SAAf,CAAyB,KAAK,CAAE,CAAET,KAAK,CAAE,MAAT,CAAiBK,eAAe,CAAE,SAAlC,CAA6CQ,UAAU,CAAEJ,oBAAoB,CAAG,KAAH,CAAW,MAAxF,CAAhC,UACKb,OAAO,CAACU,IADb,EAXZ,GADJ,CAmBH,CArBD,CAsBeC,qFAAf,E;;;;;;;;ACnBA,GAAMO,wBAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAW,CAC3B,cAA0BzC,yBAAQ,CAAC,EAAD,CAAlC,kEAAOoB,KAAP,eAAcsB,QAAd,eACA,GAAQC,OAAR,CAA0BF,KAA1B,CAAQE,MAAR,CAAgBC,KAAhB,CAA0BH,KAA1B,CAAgBG,KAAhB,CACA,GAAMrC,aAAY,CAAG,QAAfA,aAAe,CAACsC,KAAD,CAAW,CAC3BA,KAAK,CAACpC,cAAN,GAED,GAAMuB,KAAI,CAAGZ,KAAK,CAAC0B,IAAN,EAAb,CAEA,GAAGd,IAAI,CAACR,MAAL,CAAc,CAAjB,CAAoBuB,2CAAW,CAACH,KAAD,CAAQD,MAAR,CAAgB,CAAEX,IAAI,CAAJA,IAAF,CAAhB,CAAX,CAEpBU,QAAQ,CAAC,EAAD,CAAR,CACH,CARD,CASA,GAAMM,aAAY,CAAG,QAAfA,aAAe,CAACH,KAAD,CAAW,CAC5BH,QAAQ,CAACG,KAAK,CAAC1B,MAAN,CAAaC,KAAd,CAAR,CACA6B,wCAAQ,CAACR,KAAD,CAAQE,MAAR,CAAR,CACH,CAHD,CAKA,GAAMO,aAAY,CAAG,QAAfA,aAAe,CAACL,KAAD,CAAW,CAC5BE,2CAAW,CAACH,KAAD,CAAQD,MAAR,CAAgB,CAAEQ,KAAK,CAAEN,KAAK,CAAC1B,MAAN,CAAagC,KAAtB,CAA6BnB,IAAI,CAAE,EAAnC,CAAhB,CAAX,CACH,CAFD,CAIA,mBACI,oCAAM,SAAS,CAAC,cAAhB,CAA+B,QAAQ,CAAEzB,YAAzC,wBACI,oCACI,SAAS,CAAC,eADd,CAEI,WAAW,CAAC,oBAFhB,CAGI,KAAK,CAAEa,KAHX,CAII,QAAQ,CAAE4B,YAJd,CAKI,QAAQ,CAAEzC,YALd,EADJ,cAQI,oCAAO,OAAO,CAAC,eAAf,uBACI,mCAAM,SAAS,CAAC,cAAhB,uBACI,2BAAC,kCAAD,EAAiB,SAAS,CAAC,cAA3B,EADJ,EADJ,EARJ,cAaI,oCACI,IAAI,CAAC,MADT,CAEI,QAAQ,CAAE,KAFd,CAGI,EAAE,CAAC,eAHP,CAII,KAAK,CAAE,CAAE6C,OAAO,CAAE,MAAX,CAJX,CAKI,QAAQ,CAAEF,YALd,EAbJ,cAoBI,qCAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,aAAhC,uBACI,2BAAC,+BAAD,EAAc,SAAS,CAAC,WAAxB,EADJ,EApBJ,GADJ,CA0BH,CA/CD,CAgDeV,kFAAf,E;;AC/CA,GAAMa,kBAAQ,CAAG,QAAXA,SAAW,CAACZ,KAAD,CAAW,CAC1B,GAAQa,MAAR,CAAkDb,KAAlD,CAAQa,KAAR,CAAeC,UAAf,CAAkDd,KAAlD,CAAec,UAAf,CAA2BC,QAA3B,CAAkDf,KAAlD,CAA2Be,QAA3B,CAAqCC,QAArC,CAAkDhB,KAAlD,CAAqCgB,QAArC,CAEA,GAAMC,KAAI,CAAGJ,KAAK,EAAIA,KAAK,CAACC,UAAD,CAA3B,CAEA,GAAMI,mBAAkB,CAAG,QAArBA,mBAAqB,CAACrC,OAAD,CAAUsC,WAAV,QAA0BF,KAAI,CAACG,MAAL,CAAYC,GAAZ,CAAgB,SAACC,MAAD,CAASC,KAAT,QAAmBD,OAAM,CAACE,SAAP,GAAqB3C,OAAO,CAAC4C,EAA7B,eACtF,kCAEE,SAAS,CAAC,cAFZ,CAGE,KAAK,CAAE,CACLxC,KAAK,CAAEkC,WAAW,CAAG,OAAH,CAAa,MAD1B,CAELvB,eAAe,CAAE0B,MAAM,CAACA,MAAP,CAAczB,MAAd,gBAA+ByB,MAAM,CAACA,MAAP,CAAczB,MAA7C,KAFZ,CAHT,iBACe0B,KADf,EADmE,EAAhB,CAA1B,EAA3B,CAWA,GAAMG,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CAC3B,GAAMC,KAAI,CAAGC,MAAM,CAACD,IAAP,CAAYX,QAAZ,CAAb,CAEA,MAAOW,KAAI,CAACN,GAAL,CAAS,SAACQ,GAAD,CAAMN,KAAN,CAAgB,CAC9B,GAAM1C,QAAO,CAAGmC,QAAQ,CAACa,GAAD,CAAxB,CACA,GAAMC,eAAc,CAAGP,KAAK,GAAK,CAAV,CAAc,IAAd,CAAqBI,IAAI,CAACJ,KAAK,CAAG,CAAT,CAAhD,CACA,GAAMJ,YAAW,CAAGJ,QAAQ,GAAKlC,OAAO,CAACc,MAAR,CAAenC,QAAhD,CAEA,mBACE,mCAA0B,KAAK,CAAE,CAAEuE,KAAK,CAAE,MAAT,CAAjC,wBACE,kCAAK,SAAS,CAAC,eAAf,UACGZ,WAAW,cACR,2BAAC,oBAAD,EAAW,OAAO,CAAEtC,OAApB,EADQ,cAER,2BAAC,uBAAD,EAAc,OAAO,CAAEA,OAAvB,CAAgC,WAAW,CAAEmC,QAAQ,CAACc,cAAD,CAArD,EAHN,EADF,cAME,kCAAK,SAAS,CAAC,eAAf,CAA+B,KAAK,CAAE,CAAE1C,WAAW,CAAE+B,WAAW,CAAG,MAAH,CAAY,KAAtC,CAA6CrB,UAAU,CAAEqB,WAAW,CAAG,KAAH,CAAW,MAA/E,CAAtC,UACGD,kBAAkB,CAACrC,OAAD,CAAUsC,WAAV,CADrB,EANF,iBAAiBI,KAAjB,EADF,CAYD,CAjBM,CAAP,CAkBD,CArBD,CAuBA,GAAI,CAACN,IAAL,CAAW,mBAAO,oCAAP,CAEX,mBACE,mCAAK,SAAS,CAAC,WAAf,wBACE,mCAAK,SAAS,CAAC,sBAAf,wBACE,kCAAK,SAAS,CAAC,YAAf,UAA6BA,IAA7B,SAA6BA,IAA7B,iBAA6BA,IAAI,CAAEe,KAAnC,EADF,cAEE,kCAAK,SAAS,CAAC,eAAf,UACGf,IAAI,CAACG,MAAL,CAAYC,GAAZ,CAAgB,SAACC,MAAD,mBAAgBA,MAAM,CAACA,MAAP,CAAc9D,QAA9B,GAAhB,CADH,EAFF,GADF,CAOGkE,cAAc,EAPjB,cAQE,kCAAK,KAAK,CAAE,CAAEO,MAAM,CAAE,OAAV,CAAZ,EARF,cASE,kCAAK,SAAS,CAAC,wBAAf,uBACE,2BAAC,sBAAD,sFAAiBjC,KAAjB,MAAwB,MAAM,CAAEc,UAAhC,GADF,EATF,GADF,CAeD,CAxDD,CA0DeF,yEAAf,E;;;;;ACxDA,GAAMsB,QAAG,CAAG,QAANA,IAAM,EAAM,CACd,GAAG,CAAC7D,YAAY,CAAC8D,OAAb,CAAqB,UAArB,CAAJ,CAAsC,mBAAO,2BAAC,oBAAD,IAAP,CAEtC,mBACI,2BAAC,kCAAD,EACI,MAAM,CAAC,OADX,CAEI,SAAS,CAAC,sCAFd,CAGI,QAAQ,CAAE9D,YAAY,CAAC8D,OAAb,CAAqB,UAArB,CAHd,CAII,UAAU,CAAE9D,YAAY,CAAC8D,OAAb,CAAqB,UAArB,CAJhB,CAKI,cAAc,CAAE,wBAACC,YAAD,qBAAkB,2BAAC,mBAAD,6CAAcA,YAAd,EAAlB,EALpB,EADJ,CASH,CAZD,CAceF,qDAAf,E;;AChBAG,mBAAQ,CAACC,MAAT,cAAgB,2BAAC,SAAD,IAAhB,CAAyBC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAzB,E","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import { useState } from \"react\";\nimport axios from 'axios';\nconst LoginForm = () => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        const authObject = { 'Project-ID': \"1bf81ce9-62ca-4532-a837-de087b3b1926\", \"User-Name\": username, 'User-Secret': password}\n\n        try {\n            await axios.get('https://api.chatengine.io/chats', { headers: authObject });\n\n            localStorage.setItem('username', username);\n            localStorage.setItem('password', password); \n\n            window.location.reload();\n        } catch (error) {\n            setError('Looks like your credentials did not work!')\n        }\n\n    }\n\n    return (\n        <div className=\"wrapper\">\n            <div className=\"form\">\n                <h1 className=\"title\">Chat Application</h1>\n                <form onSubmit={handleSubmit}>\n                    <input type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} className=\"input\" placeholder=\"Username\" required/>\n                    <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"input\" placeholder=\"Password\" required/>\n                    <div align=\"center\">\n                        <button type=\"submit\" className=\"button\">\n                            <span>Start Chatting</span>\n                        </button>\n                    </div>\n                    <h2 className=\"error\">{error}</h2>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default LoginForm;","const MyMessage = ({ message }) => {\n    if(message?. attachments?.length > 0) {\n        return (\n            <img src={message.attachments[0].file} alt=\"message-attachment\" className=\"message-image\" style={{ float: 'right'}}/>\n        )\n    }\n    console.log(message)\n    return (\n        <div className=\"message\" style={{ float: 'right', marginRight: '18px', color: 'white', backgroundColor: '#3B2A50'}}>\n         {message.text}\n        </div>\n    );\n};\nexport default MyMessage;","const TheirMessage = ({ lastMessage, message}) => {\n    const isFirstMessageByUser = !lastMessage || lastMessage.sender.username !== message.sender.username;\n    return (\n        <div className=\"message-row\">\n            {isFirstMessageByUser && (\n                <div \n                    className=\"message-avatar\"\n                    style={{backgroundImage: `url(${message?.sender?.avatar})`}}\n                />\n            )}\n            {message?. attachments?.length > 0\n                ? (\n                    <img src={message.attachments[0].file} alt=\"message-attachment\" className=\"message-image\" style={{ marginLeft: isFirstMessageByUser ? '4px' : '48px'}}/>\n                ) : (\n                    <div className=\"message\" style={{ float: 'left', backgroundColor: '#CABCDC', marginLeft: isFirstMessageByUser ? '4px' : '48px'}}>\n                        {message.text}\n                    </div>\n                )\n    }\n        </div> \n    )\n}\nexport default TheirMessage;","import { useState } from 'react';\nimport { sendMessage, isTyping} from 'react-chat-engine';\nimport { SendOutlined, PictureOutlined } from '@ant-design/icons';\nconst MessageForm = (props) => {\n    const [value, setValue] = useState('');\n    const { chatId, creds } = props;\n    const handleSubmit = (event) => {\n         event.preventDefault();\n\n        const text = value.trim();\n\n        if(text.length > 0) sendMessage(creds, chatId, { text });\n\n        setValue('');\n    }\n    const handleChange = (event) => {\n        setValue(event.target.value);\n        isTyping(props, chatId);\n    }\n\n    const handleUpload = (event) => {\n        sendMessage(creds, chatId, { files: event.target.files, text: '' })\n    }\n   \n    return (\n        <form className=\"message-form\" onSubmit={handleSubmit}>\n            <input \n                className=\"message-input\"\n                placeholder=\"Send a message ...\"\n                value={value}\n                onChange={handleChange}\n                onSubmit={handleSubmit}\n            />\n            <label htmlFor=\"upload-button\">\n                <span className=\"image-button\">\n                    <PictureOutlined className=\"picture-icon\" />\n                </span>\n            </label>\n            <input \n                type=\"file\"\n                multiple={false}\n                id=\"upload-button\"\n                style={{ display: 'none'}}  \n                onChange={handleUpload}\n            />\n            <button type=\"submit\" className=\"send-button\">\n                <SendOutlined className=\"send-icon\" />\n            </button>\n        </form>\n    )\n}\nexport default MessageForm;","import MyMessage from './MyMessage';\nimport TheirMessage from './TheirMessage';\nimport MessageForm from './MessageForm';\n\nconst ChatFeed = (props) => {\n  const { chats, activeChat, userName, messages } = props;\n\n  const chat = chats && chats[activeChat];\n\n  const renderReadReceipts = (message, isMyMessage) => chat.people.map((person, index) => person.last_read === message.id && (\n    <div\n      key={`read_${index}`}\n      className=\"read-receipt\"\n      style={{\n        float: isMyMessage ? 'right' : 'left',\n        backgroundImage: person.person.avatar && `url(${person.person.avatar})`,\n      }}\n    />\n  ));\n\n  const renderMessages = () => {\n    const keys = Object.keys(messages);\n\n    return keys.map((key, index) => {\n      const message = messages[key];\n      const lastMessageKey = index === 0 ? null : keys[index - 1];\n      const isMyMessage = userName === message.sender.username;\n\n      return (\n        <div key={`msg_${index}`} style={{ width: '100%' }}>\n          <div className=\"message-block\">\n            {isMyMessage\n              ? <MyMessage message={message} />\n              : <TheirMessage message={message} lastMessage={messages[lastMessageKey]} />}\n          </div>\n          <div className=\"read-receipts\" style={{ marginRight: isMyMessage ? '18px' : '0px', marginLeft: isMyMessage ? '0px' : '68px' }}>\n            {renderReadReceipts(message, isMyMessage)}\n          </div>\n        </div>\n      );\n    });\n  };\n\n  if (!chat) return <div />;\n\n  return (\n    <div className=\"chat-feed\">\n      <div className=\"chat-title-container\">\n        <div className=\"chat-title\">{chat?.title}</div>\n        <div className=\"chat-subtitle\">\n          {chat.people.map((person) => ` ${person.person.username}`)}\n        </div>\n      </div>\n      {renderMessages()}\n      <div style={{ height: '100px' }} />\n      <div className=\"message-form-container\">\n        <MessageForm {...props} chatId={activeChat} />\n      </div>\n    </div>\n  );\n};\n\nexport default ChatFeed;","import { ChatEngine } from 'react-chat-engine';\nimport LoginForm from './components/LoginForm';\nimport ChatFeed from './components/ChatFeed.jsx';\n\nimport './App.css';\n\nconst App = () => {\n    if(!localStorage.getItem('username')) return <LoginForm />\n\n    return (\n        <ChatEngine \n            height=\"100vh\"\n            projectID=\"1bf81ce9-62ca-4532-a837-de087b3b1926\"\n            userName={localStorage.getItem('username')}\n            userSecret={localStorage.getItem('password')}\n            renderChatFeed={(chatAppProps) => <ChatFeed {...chatAppProps} />}\n        />\n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"]}}