{"ast":null,"code":"import _regeneratorRuntime from\"/Users/davidmcdougal/Practice/chat_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/davidmcdougal/Practice/chat_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/davidmcdougal/Practice/chat_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=function LoginForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var authObject;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();authObject={'Project-ID':\"1bf81ce9-62ca-4532-a837-de087b3b1926\",\"User-Name\":username,'User-Secret':password};_context.prev=2;_context.next=5;return axios.get('https://api.chatengine.io/chats',{headers:authObject});case 5:localStorage.setItem('username',username);localStorage.setItem('password',password);window.location.reload();_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);setError('Looks like your credentials did not work!');case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Chat Application\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},className:\"input\",placeholder:\"Username\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},className:\"input\",placeholder:\"Password\",required:true}),/*#__PURE__*/_jsx(\"div\",{align:\"center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Start Chatting\"})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"error\",children:error})]})]})});};export default LoginForm;","map":{"version":3,"sources":["/Users/davidmcdougal/Practice/chat_app/src/components/LoginForm.jsx"],"names":["useState","axios","LoginForm","username","setUsername","password","setPassword","error","setError","handleSubmit","e","preventDefault","authObject","get","headers","localStorage","setItem","window","location","reload","target","value"],"mappings":"odAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFACA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpB,cAAgCF,QAAQ,CAAC,EAAD,CAAxC,wCAAOG,QAAP,eAAiBC,WAAjB,eACA,eAAgCJ,QAAQ,CAAC,EAAD,CAAxC,yCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAA0BN,QAAQ,CAAC,EAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,iIACjBA,CAAC,CAACC,cAAF,GAEMC,UAHW,CAGE,CAAE,aAAc,sCAAhB,CAAwD,YAAaT,QAArE,CAA+E,cAAeE,QAA9F,CAHF,uCAMPJ,CAAAA,KAAK,CAACY,GAAN,CAAU,iCAAV,CAA6C,CAAEC,OAAO,CAAEF,UAAX,CAA7C,CANO,QAQbG,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCb,QAAjC,EACAY,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCX,QAAjC,EAEAY,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAXa,iFAabX,QAAQ,CAAC,2CAAD,CAAR,CAba,qEAAH,kBAAZC,CAAAA,YAAY,4CAAlB,CAkBA,mBACI,YAAK,SAAS,CAAC,SAAf,uBACI,aAAK,SAAS,CAAC,MAAf,wBACI,WAAI,SAAS,CAAC,OAAd,8BADJ,cAEI,cAAM,QAAQ,CAAEA,YAAhB,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEN,QAA1B,CAAoC,QAAQ,CAAE,kBAACO,CAAD,QAAON,CAAAA,WAAW,CAACM,CAAC,CAACU,MAAF,CAASC,KAAV,CAAlB,EAA9C,CAAkF,SAAS,CAAC,OAA5F,CAAoG,WAAW,CAAC,UAAhH,CAA2H,QAAQ,KAAnI,EADJ,cAEI,cAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,CAAEhB,QAA9B,CAAwC,QAAQ,CAAE,kBAACK,CAAD,QAAOJ,CAAAA,WAAW,CAACI,CAAC,CAACU,MAAF,CAASC,KAAV,CAAlB,EAAlD,CAAsF,SAAS,CAAC,OAAhG,CAAwG,WAAW,CAAC,UAApH,CAA+H,QAAQ,KAAvI,EAFJ,cAGI,YAAK,KAAK,CAAC,QAAX,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,QAAhC,uBACI,wCADJ,EADJ,EAHJ,cAQI,WAAI,SAAS,CAAC,OAAd,UAAuBd,KAAvB,EARJ,GAFJ,GADJ,EADJ,CAiBH,CAxCD,CA0CA,cAAeL,CAAAA,SAAf","sourcesContent":["import { useState } from \"react\";\nimport axios from 'axios';\nconst LoginForm = () => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        const authObject = { 'Project-ID': \"1bf81ce9-62ca-4532-a837-de087b3b1926\", \"User-Name\": username, 'User-Secret': password}\n\n        try {\n            await axios.get('https://api.chatengine.io/chats', { headers: authObject });\n\n            localStorage.setItem('username', username);\n            localStorage.setItem('password', password); \n\n            window.location.reload();\n        } catch (error) {\n            setError('Looks like your credentials did not work!')\n        }\n\n    }\n\n    return (\n        <div className=\"wrapper\">\n            <div className=\"form\">\n                <h1 className=\"title\">Chat Application</h1>\n                <form onSubmit={handleSubmit}>\n                    <input type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} className=\"input\" placeholder=\"Username\" required/>\n                    <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"input\" placeholder=\"Password\" required/>\n                    <div align=\"center\">\n                        <button type=\"submit\" className=\"button\">\n                            <span>Start Chatting</span>\n                        </button>\n                    </div>\n                    <h2 className=\"error\">{error}</h2>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}